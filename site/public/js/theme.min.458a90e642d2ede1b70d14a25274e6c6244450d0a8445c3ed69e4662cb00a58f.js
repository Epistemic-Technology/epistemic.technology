const getPreferredTheme=()=>{const e=localStorage.getItem("theme");return e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},applyTheme=e=>{console.log("Applying theme:",e),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},handleThemeToggle=()=>{console.log("Toggle clicked");const e=document.documentElement.getAttribute("data-theme");console.log("Current theme:",e);const t=e==="dark"?"light":"dark";console.log("New theme:",t),applyTheme(t)},initializeTheme=()=>{const e=document.getElementById("theme-toggle");if(!e){console.error("Theme toggle button not found");return}const t=getPreferredTheme();console.log("Initial theme:",t),applyTheme(t),e.onclick=handleThemeToggle};window.initializeTheme=initializeTheme,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initializeTheme):initializeTheme()